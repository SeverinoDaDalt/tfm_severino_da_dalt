\section{Introduction} \label{sec:introduction}

    \subsection{Szemerédi's Regularity Lemma}

        Szemerédi's Regularity Lemma (SzRL)~\cite{regular_partitions_of_graphs} is a powerful tool in graph theory,
        stating that every graph can have its vertex set decomposed into an equitable partition such that most,
        but not all, pairs of parts are \emph{regular}.
        A regular pair is one whose edge distribution resembles that of a random bipartite graph (in the sense of
        satisfying its expected properties).
        The strength of the quasi-random properties is measured with the regularity parameter $\epsilon$.

        % \subsection{Applications}
        This theorem has seen many applications in wide variety areas of mathematics
        (see an early survey from the mid 1990's~\cite{the_regulariy_lemma_and_its_applications_in_graph_theory}),
        such as graph
        theory~\cite{proof_of_the_alon–yuster_conjecture,
            on_universality_of_graphs_with_uniformly_distributed_edges,
            hamilton_decompositions_of_regular_expanders_applications,
            proof_of_a_tiling_conjecture_of_komlos,
            the_approximate_loebl_komlos_sos_conjecture_IV,
            the_approximate_loebl_komlos_sos_conjecture_III,
            the_approximate_loebl_komlos_sos_conjecture_II,
            the_approximate_loebl_komlos_sos_conjecture_I}\footnote{Aside from the results that directly apply the SzRL,
            there are many that either use suitable variants of SzRL or are deeply inspired by its ideas.},
        limits of dense graphs~\cite{convergent_sequences_of_dense_graphs_I,
            convergent_sequences_of_dense_graphs_II,
            szemeredis_lemma_for_the_analyst,
            regularity_partitions_and_the_topology_of_graphons} (see the book~\cite{large_networks_and_graph_limits}),
        number theory~\cite[Szemerédi's Theorem]{on_sets_of_integers_containing_k_elements_in_arithmetic_progression},
        and Ramsey Theory~\cite{threshold_functions_for_ramsey_properties,
            three-color_ramsey_numbers_for_paths,
            ramsey_turan_theory,}, to name a few.
        The regularity method has also been generalized to hypergraphs~\cite{
            regularity_lemma_for_k_uniform_hypergraphs,
            regular_partitions_of_hypergraphs_regularity_lemmas,
            the_counting_lemma_for_regular_k_uniform_hypergraphs,
            a_variant_of_the_hypergraph_removal_lemma,
            hypergraph_regularity_and_the_multidimensional_szemeredi_theorem}.
        Also, it has seen important applications to computer science, such as in property testing (see~\Cref{subsec:subsection_1.3}).
        This brief summary is by no means an exhaustive list of the many applications that has seen the Regularity Lemma as
        a key component.

        % \subsection{Problems with SzRL}
        Since this result is applicable to \emph{any} graph and the number of parts of this partition with good properties is constant,
        it should not be surprising that some limitations arise.
        Firstly, not necessarily all pairs are regular, but most crucially, the required upper bound on the number of
        parts is, although constant, very large.
        More specifically, it is a tower of exponentials (it has the form $2^{2^{2^{\text{\reflectbox{$\dots$}}}}}$)
        whose height depends on the regularity parameter $\epsilon$.

        In the general setting, both limitations have been proven to be unavoidable.
        In~\cite{lower_bounds_of_tower_type_for_szeremedis_uniformity_lemma}, Gowers shows that there exists a family of graphs
        for which the lower bound on the number of parts is still a tower of exponentials\footnote{
        To be more specific, the author shows that the number of parts is lower bounded by an exponenetial tower of $2$'s where
            the height of the tower is at least proportional to $\log\parround{1/\epsilon}$.
            Meanwhile, in the usual proof of the theorem, the upper bound on the height of the tower is proportional to
            $\epsilon^{-5}$.
        }.
        On the other hand, it is folklore knowledge that large-enough half-graphs present irregular pairs in any
        regular partition (\cite{irregular_pairs_in_half_graphs_szemeredi_regularity} gives a written proof of this fact).
        Having seen this unavoidability, it is natural to ask for the underlying reasons of those limitations and which
        additional conditions can be imposed or levied so that the parameters can be improved.

    \subsection{Versions of SzRL}

        In order to reduce the bound on the number of parts, one can relax the property required on the partition.
        One of the first successful implementations of such approach was given
        by~\cite[Theorem 12]{quick_approximation_to_matrices_and_applications} which is now known as
        \emph{the weak regularity lemma}.
        Towards the other direction one can strengthen the property on the
        partition~\cite[Lemma 4.1]{efficient_testing_of_large_graphs}, at the cost of increasing the number of parts.
        This is known as the \emph{strong regularity lemma} and it is particularly useful when working with induced
        subgraphs (more on this in \Cref{subsec:subsection_1.3}).
        The previous results can be thought as three instances of a family of regularity lemmas, with varying
        strength~\cite{regularity_partitions_and_the_topology_of_graphons, szemeredis_lemma_for_the_analyst}.
        This is hinted in~\cite[Lemma 4.1 and its discussion]{szemeredis_lemma_for_the_analyst}, and for example, an even
        stronger instance in this family is given explicitly in~\cite[Section 5.1 - pg. 439]{regularity_partitions_and_the_topology_of_graphons},
        where is referred to as an \emph{ultra-strong} regularity lemma.

        % \subsection{Subclasses versions}
        Now, another way of tackling the limitations of the SzRL is to reduce the scope to an appropriate subclass of graphs.
        A relevant example of this approach is the class of graphs with bounded VC-dimension;
        the notion of VC-dimension was firstly introduced by Vapnik \& Chervonenkis
        in~\cite{the_uniform_convergence_of_frequencies_of_the_appearance_of_events_to_their_probabilities}
        \hspace{-3pt}\footnote{
            See~\cite{on_the_uniform_convergence_of_relative_frequencies_of_events_to_their_probabilities}
            for a translated version.}
        and one can view it as a graph with \say{low complexity} (but not necessarily sparse).
        The reader can find more details in \Cref{sec:section_3}.
        For this class of graphs the bound on the number of parts can be greatly reduced.
        Indeed, if a given graph has VC-dimension bounded by $k$, we can obtain a regular partition with only
        $\parround{{1}/{\epsilon}}^{f(k)}$ parts, where $\epsilon$ is the regularity parameter.
        Furthermore, the low complexity of graphs with bounded VC-dimension, translates into the additional property that the
        regular pairs are either almost fully connected or almost empty.

        The first regularity lemma for graphs with bounded VC-dimension appears in the context of
        matrices~\cite{efficient_testing_of_bipartite_graphs_for_forbidden_induced_subgraphs}, which gives
        a regularity lemma for bipartite graphs.
        In~\cite{regularity_partitions_and_the_topology_of_graphons}, the authors prove a similar result for
        (not necessarily bipartite) graphs with bounded VC-dimension.
        Fox, Pach, \& Suk give an alternative proof with better bounds of the previous result, which we state below.

        \begin{thm*}{A}[Theorem 1.3 in~\cite{erdos_hajnal_conjecture_for_graphs_with_bounded_vc_dimension} for graphs]
            \label{thm:A}
            Each graph $G$ with VC-dimension bounded by $k$ admits an equitable partition of its vertex set with at most
            $c(k)\cdot(1/\epsilon)^{2k+1}$ parts such that all but at most an $\epsilon$-fraction of the pairs of parts
            are $\epsilon$-regular and have density either less than $\epsilon$ or greater than $1 - \epsilon$.
        \end{thm*}

        Another class of graphs that has been considered to alleviate the limitations of SzRL is that of the \emph{stable}
        graphs.
        The concept of stability originates in Model Theory
        (see~\cite{classification_theory_and_the_number_of_non_isomorphic_models}).
        A graph is $k$-stable if it avoids any \emph{bi-induced} (see \Cref{def:bi_induced}) copy of the \emph{half-graph}
        on $2k$ vertices, which is a bipartite graph that behaves in a very \emph{non-quasi-random} way (see~\Cref{fig:half-graph}).
        In fact, Malliaris \& Shelah showed in~\cite[Theorem 5.19]{regularity_lemmas_for_stable_graphs} that restricting
        to this class of graphs not only achieves a partition with a bound on the number of parts which is only exponential
        on $1/\epsilon$, but also completely avoids irregular pairs; the exponent depends on the size of the avoided half-graph.
        Again, (all) pairs are either almost fully connected or almost empty.
        This result is the pivotal point of this work, and \Cref{sec:section_5} is devoted to its proof,
        culminating in \Cref{thm:existance_of_regular_partitions}, which we informally give below.

        \begin{thm*}{B} \label{thm:B}
            Each $k$-stable graph $G$ admits an equitable partition of its vertex set with at most
            ${c(k)\cdot(1/\epsilon)^{2^{k+1}}}$ parts such that ALL pairs of parts
            are $\epsilon$-regular and have density either less than $\epsilon$ or greater than $1 - \epsilon$.
        \end{thm*}

        Note that the stable graphs is a subclass of graphs with bounded VC-dimension.
        Indeed, if a graph does not contain a bi-induced copy of a bipartite graph with stable sets of size $\geq k$,
        then it has VC-dimension strictly bounded by $k$~\cite{regularity_partitions_and_the_topology_of_graphons}.
        Hence, $k$-stable graphs have VC-dimension strictly bounded by $k$.
        Additionally, any half-graph has VC-dimension $1$\footnote{
            Indeed, the fact that the neighbourhoods of the vertices on the same stable set of a half-graph can be
            ordered by inclusion, and it is a bipartite graph, results in a VC-dimension of $1$.
            Alternatively, in \cite{regularity_partitions_and_the_topology_of_graphons} it is shown that if a graph does not
            contain a bi-induced copy of a bipartite graph where the smaller size is k, then it has VC-dimension (strictly)
            bounded by k; in our case the half-graph has no bi-induced copy of $K_{3,3}$ minus a perfect matching.},
        so the $k$-stable graphs is a proper subclass of the graphs with VC-dimension strictly bounded by $k$.

        Notice that, in \Cref{thm:B} there are no irregular pairs.
        This fact, shows that the presence of the half-graph plays a key role in requiring irregular pairs in the partition.
        On the other hand, the exponent in the bound on the number of parts is exponential on $k$ while,
        in \Cref{thm:A} it is only linear.
        It is an open question whether the exponential exponent in the bound of \Cref{thm:B} is
        needed~\cite{julia_wolf_private_comunication}.

    \subsection{Property testing} \label{subsec:subsection_1.3}

        Property testing is a field of theoretical computer science, concerned about finding low-complexity algorithms
        for testing (approximate) properties in large objects, such as graphs.
        These algorithms, called \emph{tests}, need to be successful with high probability, and are only required to distinguish between objects
        that do not satisfy the property, and those which are \say{far} from satisfying it.
        The \emph{complexity} of a test is measured by the number of queries it needs to perform in order to decide
        whether a given input, each query returning whether two given vertices of the input graph are adjacent or not.

        Of course, the most desirable testers are those with lower query complexity.
        A class of particular interest is that of testers whose complexity does not grow with the size of the input
        graph.
        Properties for which such testers exist are called \emph{testable}.
        An important result in this context is given by Alon and Shapira
        in~\cite{a_characterization_of_the_natural_graph_properties_testable_with_one_sided_error}, where they
        showed that a large class of properties, a subclass of which will be the center of our attention, are testable.

        \begin{thm*}{C}[Alon \& Shapira Theorem in~\cite{a_characterization_of_the_natural_graph_properties_testable_with_one_sided_error}]
            \label{thm:alon_and_shapira_theorem}
            Every hereditary graph property is testable (with one-sided error).
        \end{thm*}

        A property is said to be \emph{hereditary} if it is preserved under taking induced subgraphs.
        A property is testable \emph{with one-sided error} if the first condition in \Cref{def:epsilon_test}
        is strengthened to $P\parround{\mathcal{A} \text{ accepts } G} = 1$, and thus the associated algorithm does
        not give false negatives.

        A stepping stone towards Alon \& Shapira Theorem was the work of
        Alon-Fischer-Krivelevich-Szegedy~\cite{efficient_testing_of_large_graphs} where they show, among other things,
        that \emph{$H$-freeness} is testable.
        A graph $G$ is said to be $H$-free, where $H$ is another graph, if no copy of $H$ appears as an induced subgraph in
        $G$, and $H$-freeness is clearly an hereditary property.

        Both Alon-Fischer-Krivelevich-Szegedy and Alon \& Shapira results use the strong regularity
        lemma~\cite[Lemma 4.1]{efficient_testing_of_large_graphs}, which we mentioned earlier.
        Furthermore, the query complexity of the testers associated to the previous results, is intrinsically linked to the number of
        parts in the underlying regular partition.
        Not only that, but even though the standard SzRL is good to understand most of the structure of the graph,
        it has no control over the irregular pairs, which becomes a problem when looking for induced subgraphs.
        For this reason, the stronger version is required.
        This worsens the already enormous power-tower bounds of the standard regularity lemma, leading to prohibitively large,
        although constant, query counts.

        This raises a natural question on whether the superior bounds and the lack of irregular pairs of the stable regularity
        lemma can be exploited to create more efficient property testers for graphs in a half-graph-restricted setting.
        The final of this work is dedicated to this question.

    \subsection{Main contributions} \label{subsec:main_contributions}

        The main contributions of this thesis are:
        \begin{itemize}
            \item We place a larger emphasis on the combinatorial part of the result
                in~\cite{regularity_lemmas_for_stable_graphs}, making it self-contained and making some of the argument that
                previously used some Model Theory fully combinatorial.
                Further, we make some of the relations between the parameters explicit while correcting some of the typos.
                In addition, we simplify some of the arguments, while making others more explicit and detailed.
                For example, we make explicit that the excellence (see \Cref{sec:section_5}) depends on two parameters
                with opposite monotonic properties (see \Cref{def:epsilon_excellent} and \Cref{rmk:excellence_is_not_monotonic}).
                A more details list of changes is provided in \Cref{sec:appendix_1000_razones}.
            \item The construction of an efficient property testing algorithm for $H$-freeness tailored to stable graphs.
                The algorithm's analysis leverages the stable regularity lemma to achieve a query complexity with significantly
                improved bounds compared to the general case.
            \item The development of a unified notational framework that cohesively integrates the concepts from
                extremal graph theory, stability, and property testing used throughout the thesis.
        \end{itemize}

    \subsection{Summary} \label{subsec:summary}

        The remainder of this thesis is organized as follows.
        \Cref{sec:section_2} reviews fundamental concepts from graph theory, culminating in a formal statement of Szemer\'edi's
        Regularity Lemma.
        \Cref{sec:section_3} introduces the graph-theoretic notion of stability and proves some basic results in this context.
        \Cref{sec:section_4} presents and analyzes some weaker variants of the stable regularity lemma, and illustrate both its
        strengths and its inherent limitations.
        \Cref{sec:section_5} is dedicated to the proof of the main Stable Regularity Lemma, which forms the technical core of this
        work.
        Finally, \Cref{sec:section_6} applies this previous results to prove our property testing algorithm for
        $H$-freeness in stable graphs works, providing explicit bounds on its query complexity.
